# üß† Telegram Habit Tracker Bot: –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ —Å–æ–∑–¥–∞–Ω–∏—é –±–æ—Ç–∞-—Ç—Ä–µ–∫–µ—Ä–∞ –ø—Ä–∏–≤—ã—á–µ–∫

Telegram-–±–æ—Ç –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∏ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –ø—Ä–∏–≤—ã—á–µ–∫ —Å —à–∏—Ä–æ–∫–∏–º –Ω–∞–±–æ—Ä–æ–º –∫–æ–º–∞–Ω–¥. –ü–æ–∑–≤–æ–ª—è–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é —É–ø—Ä–∞–≤–ª—è—Ç—å –ø—Ä–∏–≤—ã—á–∫–∞–º–∏ —á–µ—Ä–µ–∑ –¥–∏–∞–ª–æ–≥–æ–≤–æ–µ –º–µ–Ω—é –∏ —Å–æ–∫—Ä–∞—â—ë–Ω–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã, –æ—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å –ø—Ä–æ–≥—Ä–µ—Å—Å, —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –∏ –∏—Å—Ç–æ—Ä–∏—é –¥–µ–π—Å—Ç–≤–∏–π.

## –í–∏–¥–µ–æ-–ø—Ä–µ–∑–µ–Ω—Ç–∞—Ü–∏—è

https://rutube.ru/video/private/69ea96b0dd7bdeb287571e67a1877f7e/?p=2Rf_6huKIP6Hbm6hpYB5MQ

## üìö –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ


1. –û–±–∑–æ—Ä –∏ –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ –ø—Ä–µ–¥–º–µ—Ç–Ω–æ–π –æ–±–ª–∞—Å—Ç–∏
2. –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è
3. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è
4. –°–æ–∑–¥–∞–Ω–∏–µ Telegram-–±–æ—Ç–∞
5. –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏ –±–æ—Ç–∞
6. –ò–ª–ª—é—Å—Ç—Ä–∞—Ü–∏–∏ –∏ —Å—Ö–µ–º—ã
7. –†–∞–∑–º–µ—â–µ–Ω–∏–µ –≤ GitHub
8. –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

---

## üß™ 1. –û–±–∑–æ—Ä –∏ –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ –ø—Ä–µ–¥–º–µ—Ç–Ω–æ–π –æ–±–ª–∞—Å—Ç–∏



**–¶–µ–ª—å**: —Å–æ–∑–¥–∞—Ç—å Telegram-–±–æ—Ç–∞, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–º–æ–∂–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –≤–µ—Å—Ç–∏ –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–π –¥–Ω–µ–≤–Ω–∏–∫ –ø—Ä–∏–≤—ã—á–µ–∫. –°–æ–∑–¥–∞–≤–∞—Ç—å –Ω–æ–≤—ã–µ –ø—Ä–∏–≤—ã—á–∫–∏, –æ—Ç–º–µ—á–∞—Ç—å –∏—Ö –∏ –ø—Ä–æ–≤–æ–¥–∏—Ç—å –±–∞–∑–æ–≤—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –Ω–∞–¥ –Ω–∏–º–∏: —É–¥–∞–ª—è—Ç—å, –ø–µ—Ä–µ–∏–º–µ–Ω–æ–≤—ã–≤–∞—Ç—å, –æ—á–∏—â–∞—Ç—å –ø—Ä–æ–≥—Ä–µ—Å—Å. –¢–∞–∫–∂–µ –±–æ—Ç –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —Å–ø–æ—Å–æ–±–Ω—ã–º –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –∏ –∏—Å—Ç–æ—Ä–∏—é –¥–µ–π—Å—Ç–≤–∏–π –¥–ª—è —É–¥–æ–±—Å—Ç–≤–∞.

**–ò—Å—Å–ª–µ–¥—É–µ–º—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã**:

- **Python**¬†‚Äî –æ—Å–Ω–æ–≤–Ω–æ–π —è–∑—ã–∫ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏.
- **pyTelegramBotAPI**¬†‚Äî –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏.
- **SQL Lite 3"** - –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö


---

## üõ†Ô∏è 2. –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è


- Python 3.9+
- pip (–ø–∞–∫–µ—Ç–Ω—ã–π –º–µ–Ω–µ–¥–∂–µ—Ä Python)
- –ë–∏–±–ª–∏–æ—Ç–µ–∫–∏:

  ```shell
   pip install pyTelegramBotAPI sqlite3
   ```
  

---

## ‚öôÔ∏è 3. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è



1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Python –∏ pip.
2. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Python-–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:

  ```shell
   pip install pyTelegramBotAPI sqlite3
   ```
  

---

## ü§ñ 4. –°–æ–∑–¥–∞–Ω–∏–µ Telegram-–±–æ—Ç–∞


1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤¬†[BotFather](https://t.me/BotFather)¬†–≤ Telegram.
2. –í–≤–µ–¥–∏—Ç–µ –∫–æ–º–∞–Ω–¥—É¬†`/newbot`, –∑–∞–¥–∞–π—Ç–µ –∏–º—è –∏ –ø–æ–ª—É—á–∏—Ç–µ API-—Ç–æ–∫–µ–Ω.
3. –í—Å—Ç–∞–≤—å—Ç–µ —Ç–æ–∫–µ–Ω –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é¬†`API_TOKEN`.

---

## üß© –ò–º–ø–æ—Ä—Ç –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã—Ö –±–∏–±–ª–∏–æ—Ç–µ–∫


```python
import telebot
from telebot import types
import sqlite3
from datetime import datetime, timedelta
```

---

## üë®‚Äçüíª 5. –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏ –±–æ—Ç–∞


### 1. –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –±–æ—Ç–∞ –∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

```python
bot = telebot.TeleBot(token)
conn = sqlite3.connect('habits.db', check_same_thread=False)
cursor = conn.cursor()

if __name__ == "__main__":
	print("–ë–æ—Ç –∑–∞–ø—É—â–µ–Ω...")
	bot.infinity_polling()
```

---

### 2. –°–æ–∑–¥–∞–Ω–∏–µ —Ç–∞–±–ª–∏—Ü –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

```python
def init_db():
¬† ¬† cursor.execute('''
¬† ¬† CREATE TABLE IF NOT EXISTS habits (
¬† ¬† ¬† ¬† id INTEGER PRIMARY KEY AUTOINCREMENT,
¬† ¬† ¬† ¬† user_id INTEGER,
¬† ¬† ¬† ¬† name TEXT,
¬† ¬† ¬† ¬† category TEXT,
¬† ¬† ¬† ¬† created_at TEXT
¬† ¬† )
¬† ¬†''')
¬† ¬†cursor.execute('''
¬† ¬† CREATE TABLE IF NOT EXISTS completions (
¬† ¬† ¬† ¬† id INTEGER PRIMARY KEY AUTOINCREMENT,
¬† ¬† ¬† ¬† habit_id INTEGER,
¬† ¬† ¬† ¬† completion_date TEXT,
¬† ¬† ¬† ¬† FOREIGN KEY (habit_id) REFERENCES habits (id)
¬† ¬† )
¬† ¬† ''')

¬† ¬† cursor.execute('''
¬† ¬† CREATE TABLE IF NOT EXISTS history (
¬† ¬† ¬† ¬† id INTEGER PRIMARY KEY AUTOINCREMENT,
¬† ¬† ¬† ¬† user_id INTEGER,
¬† ¬† ¬† ¬† action TEXT,
¬† ¬† ¬† ¬† details TEXT,
¬† ¬† ¬† ¬† timestamp TEXT
¬† ¬† )
¬† ¬† ''')

¬† ¬† conn.commit()
¬† ¬†```

---

### 2. –ö–æ–º–∞–Ω–¥–∞ /start

```python
@bot.message_handler(commands=['start'])
def start(message):
	...
```

---

### 3. –î—Ä—É–≥–∏–µ –∫–æ–º–∞–Ω–¥—ã

```python
@bot.message_handler(commands=['reset', 'done', 'rename', 'create', 'stats', 'delete', 'menu'])
def handle_commands(message):
	...
```

---

### 4. –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –¥–ª—è –∫–æ–º–∞–Ω–¥ –∏ –≤—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏

```python
def handle_reset(user_id, habit_identifier):
¬† ¬† ...
def handle_done(user_id, habit_identifier):
	...
...
def get_habit_by_identifier(user_id, identifier):
	...
```

---

### 5. –§—É–Ω–∫—Ü–∏–∏ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –ø—Ä–∏–≤—ã—á–∫–∞–º–∏ –∏ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –º–µ–Ω—é

```python
def start_habit_creation(user_id):
	...
def create_habit(user_id, category, name):
	...
def show_main_menu(user_id, message_text=None):
	...
...
```

---

### 6. –û–±—Ä–∞–±–æ—Ç–∫–∞ callback-–∑–∞–ø—Ä–æ—Å–æ–≤

```python
@bot.callback_query_handler(func=lambda call: True)
def callback_query(call):
	user_id = call.from_user.id
	data = call.data
	try:
	if data == "main_menu":
	¬† ¬† bot.delete_message(call.message.chat.id, call.message.message_id)
	...
	except Exception as e:
	¬† ¬† print(f"Error in callback handler: {e}")
	¬† ¬† bot.send_message(user_id, "–ü—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞. –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –ø–æ–ø—Ä–æ–±—É–π—Ç–µ –µ—â–µ —Ä–∞–∑.")
	
```

---

## üñºÔ∏è 6. –ò–ª–ª—é—Å—Ç—Ä–∞—Ü–∏–∏ –∏ —Å—Ö–µ–º—ã

### –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞ –∏ —Å–æ–∑–¥–∞–Ω–∏–µ –ø–µ—Ä–≤–æ–π –ø—Ä–∏–≤—ã—á–∫–∏

![[Pasted image 20250429194428.png]]

---

### –ü—Ä–∏–º–µ—Ä –≤—ã–≤–æ–¥–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏

![[Pasted image 20250429194519.png]]

---
### –£–¥–∞–ª–µ–Ω–∏–µ –ø—Ä–∏–≤—ã—á–∫–∏

![[Pasted image 20250429194618.png]]
![[Pasted image 20250429194653.png]]

---
### –°–ø–∏—Å–æ–∫ –ø—Ä–∏–≤—ã—á–µ–∫

![[Pasted image 20250429194712.png]]

---
### –ò—Å—Ç–æ—Ä–∏—è –¥–µ–π—Å—Ç–≤–∏–π

![[Pasted image 20250429194732.png]]

---

### –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–π –ø—Ä–∏–≤—ã—á–∫–∏ –∏ –æ—Ç–º–µ—Ç–∫–∞ –µ—ë –∫–∞–∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω–æ–π

![[Pasted image 20250429194808.png]]

---

### –û—á–∏—Å—Ç–∫–∞ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ –ø–æ –ø—Ä–∏–≤—ã—á–∫–µ

![[Pasted image 20250429194828.png]]

---

### –ü–æ–º–æ—â—å

![[Pasted image 20250429194843.png]]

---

### –°—Ö–µ–º–∞ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è

![[Pasted image 20250429200137.png]]

---

### –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –º–∞—Ä—à—Ä—É—Ç

![[Pasted image 20250429200122.png]]

---

### –ö–æ–º–∞–Ω–¥—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è


| –ö–æ–º–∞–Ω–¥–∞  | –û–ø–∏—Å–∞–Ω–∏–µ                                 |
| -------- | ---------------------------------------- |
| /start   | –ó–∞–ø—É—Å—Ç–∏—Ç—å –±–æ—Ç–∞ –∏ —Å–æ–∑–¥–∞—Ç—å –ø–µ—Ä–≤—É—é –ø—Ä–∏–≤—ã—á–∫—É |
| /help    | –ü–æ–º–æ—â—å                                   |
| /create  | –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—É—é –ø—Ä–∏–≤—ã—á–∫—É                   |
| /done    | –û—Ç–º–µ—Ç–∏—Ç—å –ø—Ä–∏–≤—ã—á–∫—É –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω–æ–π            |
| /list    | –í—ã–≤–µ—Å—Ç–∏ —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –ø—Ä–∏–≤—ã—á–µ–∫             |
| /stats   | –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –ø–æ –ø—Ä–∏–≤—ã—á–∫–µ(-–∞–º)   |
| /delete  | –£–¥–∞–ª–∏—Ç—å –ø—Ä–∏–≤—ã—á–∫—É                         |
| /rename  | –ü–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞—Ç—å –ø—Ä–∏–≤—ã—á–∫—É                   |
| /reset   | –°–±—Ä–æ—Å–∏—Ç—å –ø—Ä–æ–≥—Ä–µ—Å—Å –ø—Ä–∏–≤—ã—á–∫–∏               |
| /history | –ü–æ–ª—É—á–∏—Ç—å –∏—Å—Ç–æ—Ä–∏—é –ø—Ä–∏–≤—ã—á–µ–∫                |

---

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞


```
HabitTrackerBot/
‚îÇ
‚îú‚îÄ‚îÄ bot.py
‚îú‚îÄ‚îÄ requirements.txt
‚îú‚îÄ‚îÄ README.md
‚îú‚îÄ‚îÄ media
‚îú‚îÄ‚îÄ hidden.py
‚îú‚îÄ‚îÄ report.md
‚îî‚îÄ‚îÄ index.html
```

---

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

```
habits.db              ‚Üê –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö —Ç—Ä–µ–∫–µ—Ä–∞ –ø—Ä–∏–≤—ã—á–µ–∫
‚îú‚îÄ‚îÄ habits              ‚Üê –¥–∞–Ω–Ω—ã–µ –æ –ø—Ä–∏–≤—ã—á–∫–∞—Ö (id, user_id, name, category, created_at)
‚îú‚îÄ‚îÄ completions         ‚Üê –¥–∞—Ç—ã –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –ø—Ä–∏–≤—ã—á–µ–∫ (id, habit_id, completion_date)
‚îî‚îÄ‚îÄ history             ‚Üê –∂—É—Ä–Ω–∞–ª –¥–µ–π—Å—Ç–≤–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π (id, user_id, action, details, timestamp)
```

---

## 7. –†–∞–∑–º–µ—â–µ–Ω–∏–µ –≤ GitHub

–î–ª—è —Ç–æ–≥–æ, —á—Ç–æ–±—ã —Ä–∞–∑–º–µ—Å—Ç–∏—Ç—å –ø—Ä–æ–µ–∫—Ç –Ω–∞ GitHub, –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –∑–∞–π—Ç–∏ –≤ –∫–æ–º–∞–Ω–¥–Ω—É—é —Å—Ç—Ä–æ–∫—É –≤ —Ñ–∞–π–ª–µ –ø—Ä–æ–µ–∫—Ç–∞ –∏ –ø—Ä–æ–ø–∏—Å–∞—Ç—å:

```bash
git init
git config --global user.mail "mail"
git config --global user.name "name" (–º–æ–∂–Ω–æ –µ—â—ë git config --list (q –¥–ª—è –≤—ã—Ö–æ–¥–∞))
git add .
git commit -m "first_commit"
git branch -m main (–µ—Å–ª–∏ –≤—ã–¥–µ–ª–µ–Ω–Ω–∞—è –≤–µ—Ç–∫–∞ - –ù–ï main)
git remote add origin (—Å—Å—ã–ª–∫–∞, –∫–æ—Ç–æ—Ä—É—é –¥–∞—é—Ç –Ω–∞ GitHub –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –Ω–æ–≤–æ–≥–æ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è)
git push  -u origin main

```

## 8. –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

–ë–æ—Ç –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã—Ö –ø—Ä–∏–≤—ã—á–µ–∫ —Å–æ–∑–¥–∞–Ω –∏ –∑–∞–≥—Ä—É–∂–µ–Ω –Ω–∞ GitHub, —Ç–µ–º —Å–∞–º—ã–º –¥–æ—Å—Ç—É–ø–µ–Ω –¥–ª—è –¥–æ—Ä–∞–±–æ—Ç–∫–∏. 